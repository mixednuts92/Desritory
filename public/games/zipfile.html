<!DOCTYPE html>
<!-- saved from url=(0064)https://playernation.graphicon.org/resources/sppa/zip/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZIP File Unzipper</title>
    <link href="./ZIP File Unzipper_files/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>ZIP File Unzipper</h1>
        <form id="uploadForm">
            <div class="form-group">
                <label for="fileInput">Choose a zip file to upload:</label>
                <input type="file" class="form-control-file" id="fileInput" accept=".zip" required="">
            </div>
            <button type="button" class="btn btn-primary" id="unzipBtn">Unzip</button>
        </form>
        <div id="output"></div>
        <div id="downloadLinks" style="display: none;">
            <h3>Download Files:</h3>
            <ul id="fileList"></ul>
        </div>
    </div>


    <script src="./ZIP File Unzipper_files/jquery-1.12.4.min.js.download"></script>
      <script src="./ZIP File Unzipper_files/jquery.min.js.download"></script> 
    <script src="./ZIP File Unzipper_files/bootstrap.min.js.download"></script>
    <script src="./ZIP File Unzipper_files/jszip.min.js.download"></script>
    <script>
        jQuery(document).ready(function($) {
            $('#unzipBtn').click(function() {
                var fileInput = $('#fileInput')[0].files[0];
                if (fileInput) {
                    var zip = new JSZip();
                    zip.loadAsync(fileInput)
                    .then(function(contents) {
                        $('#output').html('<p>Unzipped successfully!</p>');
                        displayDownloadLinks(contents);
                    })
                    .catch(function(error) {
                        $('#output').html('<p>Error: ' + error.message + '</p>');
                    });
                } else {
                    $('#output').html('<p>Please select a file to upload.</p>');
                }
            });

            function displayDownloadLinks(contents) {
                var fileList = $('#fileList');
                fileList.empty(); // Clear previous links if any

                contents.forEach(function(relativePath, file) {
                    file.async('blob').then(function(blob) {
                        var url = URL.createObjectURL(blob);
                        var link = $('<a>').attr({
                            href: url,
                            download: file.name
                        }).text(file.name);
                        var listItem = $('<li>').append(link);
                        fileList.append(listItem);
                    });
                });

                $('#downloadLinks').show();
            }
        });
    </script>


</body></html>